# Overview of Dimension Modeling

## 1. 基本概念

1. 收集业务需求与数据实现

   通过与业务代表交流来发现需求，用于理解关键性能指标、竞争性商业问题、决策指定过程、支持分析需求的目标。

2. 协作维度建模探讨

   维度模型不应该由那些不懂业务以及业务需求的人来设计。

3. 维度设置过程

   1. 选择业务过程
   2. 声明粒度
   3. 确认维度
   4. 确认事实



## 2. 事实表

1. 事实表结构

   发生在现实世界中的操作型事件，产生可度量数值。从最低的粒度级别来看，事实表行对应一个度量事件，由此可以看出，事实表的设计完全依赖于物理活动，不受可能产生的最终报表的影响。除了数字度量外，事实表总包含外键，用于关联与之相关的维度，也可包含可选的退化维度键和日期/时间戳。

2. 可加、半可加、不可加事实

   事实表中的数字度量可划分为三类。最灵活、最有用的事实是完全可加，可加性度量可以按照与事实表关联的任意维度汇总。半可加度量可以对某些维度汇总，但不能对所有维度汇总。差额是常见的半可加事实度量，除了时间维度外，它们可以跨所有维度进行加法操作。另外，存在一些完全不可加度量，例如，比率。

   对非可加事实，一种好的方法是，尽可能存储非可加度量的完全可加的分量。

3. 事实表中的空值

   事实表中可以存在空值度量，然而，在事实表的外键中不能存在空值。关联的维度表必须用默认行而不是空值外键表示未知的或无法应用的条件。

4. 一致性事实

   如果某些度量出现在不同的事实表中，且定义是一致的，则这些一致性事实应该具有相同的命名，如果他们不兼容，则应该有不同的命名用于告诫业务用户。

5. 事务事实表

   事务事实表的一行对应空间或时间上某点的度量事件，分为单事务事实表和多事务事实表。

6. 周期快照事实表

   周期快照事实表中的每行汇总了发生在某一标准周期，如某一天、某周、某月的多个度量事件。

7. 累积快照事实表

   累计快照事实表的行汇总了发生在过程开始和结束之间可预测步骤内的度量事件。

8. 无事实的事实表

   尽管多数度量事件获取的结果是数字化的，但也存在某些事件仅仅记录一系列某一时刻发生的多维实体。例如，在给定的某一天中发生的学生参加课程的事件，可能没有可记录的数字化事实，但该事实行带有一个包含日历天、学生、教师、地点、课程等定义良好的外键。

9. 聚集事实表
10. 合并事实表



## 3. 维度表

1. 维度表结构

   每个维度表都包含单一的主键列。维度表的主键可以作为与之关联的任何事实表的外键。维度表通常比较宽，是扁平型非规范表，包含大量的低粒度的文本属性。

2. 维表代理键

   维度表中会包含一个列，表示唯一主键。该主键不是操作型系统的自然键，由于